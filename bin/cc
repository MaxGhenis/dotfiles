#!/bin/zsh
# Usage: cc [name]
# Creates a new Claude Code pane in the current tmux session.
# Falls back to a timestamp if no name is given.

if [[ -z "$TMUX" ]]; then
  echo "Error: not inside a tmux session" >&2
  exit 1
fi

name="${1:-$(date +%H%M%S)}"
pane=$(tmux split-window -c ~ -P -F '#{pane_index}')
tmux send-keys -t "$pane" "claude --dangerously-skip-permissions" Enter
tmux select-pane -t "$pane" -T "$name"
tmux select-layout tiled
